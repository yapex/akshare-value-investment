# 缓存验证原型项目

验证装饰器模式缓存的可行性和性能提升
最小代码量，快速验证想法

## 🚀 快速运行

### 方法1：直接运行（推荐）
```bash
# 从项目根目录运行
./prototype/cache_validation/quick_test.sh

# 或进入原型目录运行
cd prototype/cache_validation
./run_validation.sh
```

### 方法2：手动运行
```bash
# 进入原型目录
cd prototype/cache_validation

# 安装依赖
uv add diskcache

# 运行验证测试
uv run python test_cache_performance.py
```

## 📋 验证内容

### 🎯 业务场景验证

1. **季度数据缓存**：测试季度数据的缓存复杂性
   - 单个季度数据查询 (Q1, Q2, Q3, Q4)
   - 多季度数据组合查询 (全年季度数据)
   - 跨年度季度数据查询 (最近4个季度)
   - 年度+季度混合查询 (混合时间范围)

2. **跨时间查询缓存**：测试不同时间范围查询的缓存复用效果
   - 单年份数据查询 (2024年数据)
   - 多年份数据查询 (最近3年、5年数据)
   - 部分缓存复用场景 (3年→5年查询)
   - 数据一致性验证 (缓存vs原始数据)

### 📊 核心验证指标

- **缓存命中率**：相同查询的时间节省
- **数据一致性**：缓存返回数据与原始数据的一致性
- **缓存复用率**：不同查询之间的数据复用程度
- **性能提升**：查询响应时间的改善幅度

## 📊 预期结果

- 首次调用：5-10秒（模拟API延迟）
- 缓存命中：<10毫秒
- 性能提升：100-500倍