# Aè‚¡è´¢æŠ¥åˆ†æžæ£€æŸ¥æ¸…å•

> åŸºäºŽ FastAPI Web API çš„è´¢åŠ¡åˆ†æžæŒ‡å¯¼æ–‡æ¡£

**APIæœåŠ¡æ–‡æ¡£**: å‚è§ [README.md](../README.md) èŽ·å–å®Œæ•´çš„APIç«¯ç‚¹è¯´æ˜Žå’Œä½¿ç”¨æ–¹æ³•ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨APIæœåŠ¡

```bash
poe api
# æˆ–
PYTHONPATH=src uv run uvicorn akshare_value_investment.api.main:create_app --reload --host 0.0.0.0 --port 8000
```

### 2. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8000/health
```

é¢„æœŸè¿”å›ž: `{"status":"healthy",...}`

### 3. æ ¸å¿ƒAPIç«¯ç‚¹

| ç«¯ç‚¹ | åŠŸèƒ½ |
|------|------|
| `GET/POST /api/v1/financial/indicators` | è´¢åŠ¡æŒ‡æ ‡æŸ¥è¯¢ |
| `GET/POST /api/v1/financial/statements` | è´¢åŠ¡ä¸‰è¡¨èšåˆæŸ¥è¯¢ |
| `GET /api/v1/financial/fields/{market}/{query_type}` | å­—æ®µå‘çŽ° |

**å®Œæ•´APIæ–‡æ¡£**: http://localhost:8000/docs

---

## APIæŸ¥è¯¢æ ¼å¼

### è´¢åŠ¡æŒ‡æ ‡æŸ¥è¯¢ï¼ˆGETæ–¹æ³•ï¼‰

```bash
curl "http://localhost:8000/api/v1/financial/indicators?symbol=SH600519&market=a_stock&frequency=annual"
```

### è´¢åŠ¡ä¸‰è¡¨æŸ¥è¯¢ï¼ˆGETæ–¹æ³•ï¼‰

```bash
curl "http://localhost:8000/api/v1/financial/statements?symbol=SH600519&query_type=a_financial_statements&frequency=annual&limit=10"
```

### å­—æ®µå‘çŽ°

```bash
# è´¢åŠ¡æŒ‡æ ‡å­—æ®µ
curl http://localhost:8000/api/v1/financial/fields/a_stock/a_stock_indicators

# è´¢åŠ¡ä¸‰è¡¨å­—æ®µ
curl http://localhost:8000/api/v1/financial/fields/a_stock/a_financial_statements
```

---

## åˆ†æžæ£€æŸ¥é¡¹

### ä¸€ã€èµ„äº§è´Ÿå€ºè¡¨æ£€æŸ¥

#### 1.1.1 è´§å¸èµ„é‡‘æ˜¯å¦å®‰å…¨ï¼Ÿ âœ…
- **è®¡ç®—**: è´§å¸èµ„é‡‘å®‰å…¨æ¯”çŽ‡ = (è´§å¸èµ„é‡‘ + äº¤æ˜“æ€§é‡‘èžèµ„äº§) Ã· (çŸ­æœŸå€Ÿæ¬¾ + é•¿æœŸå€Ÿæ¬¾) Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `è´§å¸èµ„é‡‘`, `äº¤æ˜“æ€§é‡‘èžèµ„äº§`, `çŸ­æœŸå€Ÿæ¬¾`, `é•¿æœŸå€Ÿæ¬¾`

#### 1.1.2 è´§å¸èµ„é‡‘æ˜¯å¦å­˜åœ¨å¼‚å¸¸ï¼Ÿ âœ…
- **è®¡ç®—**: èµ„é‡‘è¦†ç›–åº¦ = è´§å¸èµ„é‡‘ Ã· çŸ­æœŸå€Ÿæ¬¾ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `è´§å¸èµ„é‡‘`, `çŸ­æœŸå€Ÿæ¬¾`, `é•¿æœŸå€Ÿæ¬¾`
  - **åˆ©æ¶¦è¡¨**: `åˆ©æ¯æ”¶å…¥`

#### 1.1.3 åº”æ”¶ç¥¨æ®æ˜¯å¦å¥åº·ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚ç¼ºå°‘åŒºåˆ†å•†ä¸šæ‰¿å…‘æ±‡ç¥¨å’Œé“¶è¡Œæ‰¿å…‘æ±‡ç¥¨çš„è¯¦ç»†ä¿¡æ¯ã€‚

#### 1.1.4 åº”æ”¶è´¦æ¬¾æ˜¯å¦å¥åº·ï¼Ÿ âœ…
- **è®¡ç®—**:
  - åº”æ”¶è´¦æ¬¾å æ€»èµ„äº§æ¯”ä¾‹ = (åº”æ”¶è´¦æ¬¾ + å…¶ä»–åº”æ”¶æ¬¾) Ã· èµ„äº§åˆè®¡ Ã— 100%
  - åº”æ”¶è´¦æ¬¾å‘¨è½¬çŽ‡ = è¥ä¸šæ”¶å…¥ Ã· (åº”æ”¶è´¦æ¬¾ + å…¶ä»–åº”æ”¶æ¬¾) Ã— 2
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `åº”æ”¶è´¦æ¬¾`, `å…¶ä»–åº”æ”¶æ¬¾`, `èµ„äº§åˆè®¡`
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæ”¶å…¥`

#### 1.1.5 é¢„ä»˜è´¦æ¬¾æ˜¯å¦å¼‚å¸¸ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚ç¼ºå°‘åŽ†å²å¯¹æ¯”å’Œè¡Œä¸šå¯¹æ¯”æ•°æ®ã€‚

#### 1.1.6 å…¶ä»–åº”æ”¶æ¬¾æ˜¯å¦å¼‚å¸¸ï¼Ÿ âœ…
- **è®¡ç®—**: å…¶ä»–åº”æ”¶æ¬¾å æ¯” = å…¶ä»–åº”æ”¶æ¬¾ Ã· èµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `å…¶ä»–åº”æ”¶æ¬¾`, `èµ„äº§åˆè®¡`

#### 1.1.7 åè´¦å‡†å¤‡è®¡ææ˜¯å¦åˆç†ï¼Ÿ âœ…
- **è®¡ç®—**: åè´¦å‡†å¤‡æ¯”çŽ‡ = (èµ„äº§å‡å€¼æŸå¤± + ä¿¡ç”¨å‡å€¼æŸå¤±) Ã· (åº”æ”¶è´¦æ¬¾ + å…¶ä»–åº”æ”¶æ¬¾) Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `åº”æ”¶è´¦æ¬¾`, `å…¶ä»–åº”æ”¶æ¬¾`
  - **åˆ©æ¶¦è¡¨**: `èµ„äº§å‡å€¼æŸå¤±`, `ä¿¡ç”¨å‡å€¼æŸå¤±`

#### 1.1.8 å­˜è´§æ˜¯å¦å­˜åœ¨é£Žé™©ï¼Ÿ âœ…
- **è®¡ç®—**: å­˜è´§å‘¨è½¬çŽ‡ = è¥ä¸šæˆæœ¬ Ã· å­˜è´§ Ã— 2
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `å­˜è´§`
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæˆæœ¬`

#### 1.1.9 å…¬å¸æ˜¯å¦å±žäºŽè´¢åŠ¡é€ å‡é«˜å±é¢†åŸŸï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚éœ€è¦è¡Œä¸šåˆ†ç±»å’Œä¸šåŠ¡æ¨¡å¼åˆ†æžã€‚

#### 1.1.10 é•¿æœŸè‚¡æƒæŠ•èµ„æ˜¯å¦å­˜åœ¨æ“çºµè¿¹è±¡ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚éœ€è¦å…·ä½“äº¤æ˜“ç»†èŠ‚å’Œå…³è”æ–¹ä¿¡æ¯ã€‚

#### 1.1.11 æŠ•èµ„æ€§æˆ¿åœ°äº§çš„è®¡é‡æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚ä¼šè®¡æ”¿ç­–ä¿¡æ¯åœ¨æŠ¥è¡¨é™„æ³¨ä¸­ã€‚

#### 1.1.12 å›ºå®šèµ„äº§æŠ˜æ—§æ”¿ç­–æ˜¯å¦å˜æ›´ï¼Ÿ âŒ
- **è®¡ç®—**: å›ºå®šèµ„äº§å‘¨è½¬çŽ‡ = è¥ä¸šæ”¶å…¥ Ã· å›ºå®šèµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `å›ºå®šèµ„äº§åˆè®¡`
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæ”¶å…¥`
- **è¯´æ˜Ž**: ä¼šè®¡æ”¿ç­–å˜æ›´ä¿¡æ¯åœ¨æŠ¥è¡¨é™„æ³¨ä¸­ã€‚

#### 1.1.13 åœ¨å»ºå·¥ç¨‹æ˜¯å¦å¼‚å¸¸ï¼Ÿ âœ…
- **è®¡ç®—**: åœ¨å»ºå·¥ç¨‹å æ¯” = åœ¨å»ºå·¥ç¨‹åˆè®¡ Ã· èµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `åœ¨å»ºå·¥ç¨‹åˆè®¡`, `èµ„äº§åˆè®¡`

#### 1.1.14 å¼€å‘æ”¯å‡ºèµ„æœ¬åŒ–æ˜¯å¦åˆç†ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚"å¼€å‘æ”¯å‡º"å­—æ®µæœªåœ¨èµ„äº§è´Ÿå€ºè¡¨ä¸­æ‰¾åˆ°ã€‚

#### 1.1.15 å•†èª‰æ˜¯å¦è¿‡å¤§ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚"å•†èª‰"å­—æ®µæœªåœ¨èµ„äº§è´Ÿå€ºè¡¨ä¸­æ‰¾åˆ°ã€‚

#### 1.1.16 é•¿æœŸå¾…æ‘Šè´¹ç”¨æ•°é¢æ˜¯å¦è¿‡å¤§ï¼Ÿ âœ…
- **è®¡ç®—**: é•¿æœŸå¾…æ‘Šè´¹ç”¨å æ¯” = é•¿æœŸå¾…æ‘Šè´¹ç”¨ Ã· èµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `é•¿æœŸå¾…æ‘Šè´¹ç”¨`, `èµ„äº§åˆè®¡`

### 1.2 è´Ÿå€ºä¸Žæƒç›Šç±»é¡¹ç›®

#### 1.2.1 æœ‰æ¯è´Ÿå€ºå æ¯”åŠæˆæœ¬å¦‚ä½•ï¼Ÿ âœ…
- **è®¡ç®—**:
  - æœ‰æ¯è´Ÿå€ºå æ¯” = (çŸ­æœŸå€Ÿæ¬¾ + é•¿æœŸå€Ÿæ¬¾) Ã· èµ„äº§åˆè®¡ Ã— 100%
  - èµ„äº§è´Ÿå€ºçŽ‡ = è´Ÿå€ºåˆè®¡ Ã· èµ„äº§åˆè®¡ Ã— 100%
  - å€Ÿæ¬¾åˆ©çŽ‡ = è´¢åŠ¡è´¹ç”¨ Ã· (çŸ­æœŸå€Ÿæ¬¾ + é•¿æœŸå€Ÿæ¬¾) Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `çŸ­æœŸå€Ÿæ¬¾`, `é•¿æœŸå€Ÿæ¬¾`, `èµ„äº§åˆè®¡`, `è´Ÿå€ºåˆè®¡`
  - **åˆ©æ¶¦è¡¨**: `è´¢åŠ¡è´¹ç”¨`

#### 1.2.2 åº”ä»˜è´¦æ¬¾/ç¥¨æ®æ˜¯å¦å¼‚å¸¸å¤§å¢žï¼Ÿ âœ…
- **è®¡ç®—**:
  - åº”ä»˜è´¦æ¬¾å æ¯” = åº”ä»˜è´¦æ¬¾ Ã· è´Ÿå€ºåˆè®¡ Ã— 100%
  - åº”ä»˜ç¥¨æ®åŠè´¦æ¬¾å æ¯” = åº”ä»˜ç¥¨æ®åŠåº”ä»˜è´¦æ¬¾ Ã· è´Ÿå€ºåˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `åº”ä»˜è´¦æ¬¾`, `åº”ä»˜ç¥¨æ®åŠåº”ä»˜è´¦æ¬¾`, `è´Ÿå€ºåˆè®¡`

#### 1.2.3 é¢„æ”¶æ¬¾é¡¹æ•°é¢æ˜¯å¦ç•¥é«˜ï¼Ÿ âœ…
- **è®¡ç®—**: é¢„æ”¶è´¦æ¬¾å æ¯” = é¢„æ”¶æ¬¾é¡¹ Ã· è´Ÿå€ºåˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `é¢„æ”¶æ¬¾é¡¹`, `è´Ÿå€ºåˆè®¡`

#### 1.2.4 åº”ä»˜èŒå·¥è–ªé…¬æ˜¯å¦é€éœ²å…³é”®ä¿¡æ¯ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚è™½ç„¶æœ‰`åº”ä»˜èŒå·¥è–ªé…¬`å­—æ®µï¼Œä½†ç¼ºå°‘å‘˜å·¥æ€»æ•°å’Œè–ªé…¬åŽ†å²æ•°æ®ã€‚

#### 1.2.5 æœ‰æ— éšè—çš„è‰¯æ€§å€ºåŠ¡ï¼Ÿ âœ…
- **è®¡ç®—**: ä¸“é¡¹åº”ä»˜æ¬¾å æ¯” = ä¸“é¡¹åº”ä»˜æ¬¾ Ã· è´Ÿå€ºåˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `ä¸“é¡¹åº”ä»˜æ¬¾`, `è´Ÿå€ºåˆè®¡`

#### 1.2.6 åº“å­˜è‚¡å›žè´­çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ âœ…
- **è®¡ç®—**: åº“å­˜è‚¡å æ¯” = åº“å­˜è‚¡ Ã· èµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `å‡ï¼šåº“å­˜è‚¡`, `èµ„äº§åˆè®¡`

### 1.3 æ•´ä½“åˆ†æžæŒ‡æ ‡

#### 1.3.1 å…¬å¸æˆé•¿æ€§ä¸Žè¥è¿èƒ½åŠ›å¦‚ä½•ï¼Ÿ âœ…
- **è®¡ç®—**: æ€»èµ„äº§å‘¨è½¬çŽ‡ = è¥ä¸šæ”¶å…¥ Ã· èµ„äº§åˆè®¡ Ã— 2
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `èµ„äº§åˆè®¡`
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæ”¶å…¥`

---

## äºŒã€åˆ©æ¶¦è¡¨æ£€æŸ¥

#### 2.1 ä¸»è¥ä¸šåŠ¡æ˜¯å¦èšç„¦ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚éœ€è¦ä¸šåŠ¡åˆ†éƒ¨ä¿¡æ¯å’Œæ”¶å…¥æž„æˆæ˜Žç»†ã€‚

#### 2.2 è¥ä¸šæ”¶å…¥å¢žé•¿æ˜¯å¦å¥åº·ï¼Ÿ âœ…
- **è®¡ç®—**:
  - è¿‘5å¹´è¥ä¸šæ”¶å…¥å¢žé•¿çŽ‡åˆ†æž = (æœ€æ–°å¹´ä»½è¥ä¸šæ”¶å…¥ - 5å¹´å‰è¥ä¸šæ”¶å…¥) Ã· 5å¹´å‰è¥ä¸šæ”¶å…¥ Ã— 100%
  - å¹´å¤åˆå¢žé•¿çŽ‡(CAGR) = (æœ€æ–°å¹´ä»½è¥ä¸šæ”¶å…¥ Ã· 5å¹´å‰è¥ä¸šæ”¶å…¥)^(1/5) - 1
  - åŒæ¯”å¢žé•¿çŽ‡ = (æœ¬å¹´è¥ä¸šæ”¶å…¥ - ä¸Šå¹´è¥ä¸šæ”¶å…¥) Ã· ä¸Šå¹´è¥ä¸šæ”¶å…¥ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `å…¶ä¸­ï¼šè¥ä¸šæ”¶å…¥`
- **æ•°æ®è¦æ±‚**: èŽ·å–æœ€è¿‘5-6å¹´æ•°æ®

#### 2.3 æœ‰æ— å¯ç–‘çš„æ”¶å…¥æˆ–å…³è”äº¤æ˜“ï¼Ÿ âŒ
- **åˆ†æžç»“æžœ**: æ— æ³•é‡åŒ–ã€‚å…³è”äº¤æ˜“ä¿¡æ¯åœ¨æŠ¥è¡¨é™„æ³¨ä¸­è¯¦ç»†æŠ«éœ²ã€‚

#### 2.4 æ¯›åˆ©çŽ‡æ˜¯å¦å¼‚å¸¸ï¼Ÿ âœ…
- **è®¡ç®—**: æ¯›åˆ©çŽ‡ = (è¥ä¸šæ”¶å…¥ - è¥ä¸šæˆæœ¬) Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæ”¶å…¥`, `è¥ä¸šæˆæœ¬`

#### 2.5 è´¹ç”¨æŽ§åˆ¶æ˜¯å¦æœ‰æ•ˆï¼Ÿ âœ…
- **è®¡ç®—**:
  - é”€å”®è´¹ç”¨çŽ‡ = é”€å”®è´¹ç”¨ Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
  - ç®¡ç†è´¹ç”¨çŽ‡ = ç®¡ç†è´¹ç”¨ Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
  - è´¢åŠ¡è´¹ç”¨çŽ‡ = è´¢åŠ¡è´¹ç”¨ Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
  - ä¸‰è´¹å è¥æ”¶æ¯” = (é”€å”®è´¹ç”¨ + ç®¡ç†è´¹ç”¨ + è´¢åŠ¡è´¹ç”¨) Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
  - ç ”å‘è´¹ç”¨å æ¯” = ç ”å‘è´¹ç”¨ Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šæ”¶å…¥`, `è¥ä¸šæˆæœ¬`, `é”€å”®è´¹ç”¨`, `ç®¡ç†è´¹ç”¨`, `è´¢åŠ¡è´¹ç”¨`, `ç ”å‘è´¹ç”¨`

#### 2.6 èµ„äº§å‡å€¼æŸå¤±æœ‰æ— æ“çºµç—•è¿¹ï¼Ÿ âœ…
- **è®¡ç®—**: èµ„äº§å‡å€¼å½±å“ = (èµ„äº§å‡å€¼æŸå¤± + ä¿¡ç”¨å‡å€¼æŸå¤±) Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `èµ„äº§å‡å€¼æŸå¤±`, `ä¿¡ç”¨å‡å€¼æŸå¤±`, `è¥ä¸šæ”¶å…¥`

#### 2.7 è¥ä¸šåˆ©æ¶¦å¢žé•¿è´¨é‡å¦‚ä½•ï¼Ÿ âœ…
- **è®¡ç®—**:
  - è¿‘5å¹´è¥ä¸šåˆ©æ¶¦å¢žé•¿çŽ‡åˆ†æž
  - å¹´å¤åˆå¢žé•¿çŽ‡(CAGR)
  - åŒæ¯”å¢žé•¿çŽ‡
  - è¥ä¸šåˆ©æ¶¦çŽ‡ = è¥ä¸šåˆ©æ¶¦ Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
  - å¢žé•¿è´¨é‡è¯„ä¼°ï¼šå¯¹æ¯”è¥ä¸šåˆ©æ¶¦å¢žé•¿çŽ‡ä¸Žè¥ä¸šæ”¶å…¥å¢žé•¿çŽ‡
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `ä¸‰ã€è¥ä¸šåˆ©æ¶¦`, `å…¶ä¸­ï¼šè¥ä¸šæ”¶å…¥`

#### 2.8 å…¶ä»–æ”¶ç›Šæ˜¯å¦å¯é ï¼Ÿ âœ…
- **è®¡ç®—**:
  - è¥ä¸šå¤–å‡€æ”¶å…¥ = è¥ä¸šå¤–æ”¶å…¥ - è¥ä¸šå¤–æ”¯å‡º
  - è¥ä¸šå¤–æ”¶å…¥å æ¯” = è¥ä¸šå¤–æ”¶å…¥ Ã· å‡€åˆ©æ¶¦ Ã— 100%
  - å…¶ä»–æ”¶ç›Šå æ¯” = å…¶ä»–æ”¶ç›Š Ã· è¥ä¸šæ”¶å…¥ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `è¥ä¸šå¤–æ”¶å…¥`, `è¥ä¸šå¤–æ”¯å‡º`, `å…¶ä»–æ”¶ç›Š`, `å‡€åˆ©æ¶¦`, `è¥ä¸šæ”¶å…¥`

#### 2.9 å‡€åˆ©æ¶¦å«é‡‘é‡é«˜å—ï¼Ÿ âœ…
- **è®¡ç®—**: å‡€åˆ©æ¶¦å«é‡‘é‡ = ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢ Ã· å‡€åˆ©æ¶¦ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `å‡€åˆ©æ¶¦`
  - **çŽ°é‡‘æµé‡è¡¨**: `ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`

#### 2.10 æ ¸å¿ƒæ”¶ç›ŠçŽ‡æŒ‡æ ‡å¦‚ä½•ï¼Ÿ âœ…
- **è®¡ç®—**: æ€»èµ„äº§æ”¶ç›ŠçŽ‡(ROA) = å‡€åˆ©æ¶¦ Ã· èµ„äº§åˆè®¡ Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **åˆ©æ¶¦è¡¨**: `å‡€åˆ©æ¶¦`
  - **èµ„äº§è´Ÿå€ºè¡¨**: `èµ„äº§åˆè®¡`
- **æ³¨**:
  - **å‡€èµ„äº§æ”¶ç›ŠçŽ‡(ROE)**ï¼šè´¢åŠ¡æŒ‡æ ‡è¡¨ä¸­ç›´æŽ¥æä¾›ï¼ŒåŒ…å« `å‡€èµ„äº§æ”¶ç›ŠçŽ‡` å’Œ `å‡€èµ„äº§æ”¶ç›ŠçŽ‡-æ‘Šè–„` ä¸¤ä¸ªå­—æ®µ
  - **æ€»èµ„äº§æ”¶ç›ŠçŽ‡(ROA)**ï¼šæŒ‡æ ‡è¡¨ä¸­æœªæä¾›ï¼Œéœ€è¦æ ¹æ®ä¸Šè¿°å…¬å¼è®¡ç®—

#### 2.11 å…¬å¸å±žäºŽé‡èµ„äº§è¿˜æ˜¯è½»èµ„äº§ï¼Ÿ âœ…
- **è®¡ç®—**:
  - ç”Ÿäº§èµ„äº§å æ¯” = (å›ºå®šèµ„äº§åˆè®¡ + åœ¨å»ºå·¥ç¨‹åˆè®¡ + å·¥ç¨‹ç‰©èµ„ + æ— å½¢èµ„äº§) Ã· èµ„äº§åˆè®¡ Ã— 100%
  - ç”Ÿäº§èµ„äº§å›žæŠ¥çŽ‡ = åˆ©æ¶¦æ€»é¢ Ã· (å›ºå®šèµ„äº§åˆè®¡ + åœ¨å»ºå·¥ç¨‹åˆè®¡ + å·¥ç¨‹ç‰©èµ„ + æ— å½¢èµ„äº§) Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **èµ„äº§è´Ÿå€ºè¡¨**: `å›ºå®šèµ„äº§åˆè®¡`, `åœ¨å»ºå·¥ç¨‹åˆè®¡`, `å·¥ç¨‹ç‰©èµ„`, `æ— å½¢èµ„äº§`, `èµ„äº§åˆè®¡`
  - **åˆ©æ¶¦è¡¨**: `åˆ©æ¶¦æ€»é¢`

---

## ä¸‰ã€çŽ°é‡‘æµé‡è¡¨æ£€æŸ¥

#### 3.1 ç»è¥æ´»åŠ¨çŽ°é‡‘æµæ˜¯å¦ä¼˜ç§€ï¼Ÿ âœ…
- **è®¡ç®—**:
  - ç»è¥çŽ°é‡‘æµå¥åº·åº¦ = ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢ Ã· å‡€åˆ©æ¶¦ Ã— 100%
  - ç»è¥çŽ°é‡‘æµä¸Žå‡€åˆ©æ¶¦æ¯” = ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢ Ã· (å‡€åˆ©æ¶¦ + å›ºå®šèµ„äº§æŠ˜æ—§ + æ— å½¢èµ„äº§æ‘Šé”€ + é•¿æœŸå¾…æ‘Šè´¹ç”¨æ‘Šé”€)
- **å­—æ®µéœ€æ±‚**:
  - **çŽ°é‡‘æµé‡è¡¨**: `ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`, `å›ºå®šèµ„äº§æŠ˜æ—§ã€æ²¹æ°”èµ„äº§æŠ˜è€—ã€ç”Ÿäº§æ€§ç”Ÿç‰©èµ„äº§æŠ˜æ—§`, `æ— å½¢èµ„äº§æ‘Šé”€`, `é•¿æœŸå¾…æ‘Šè´¹ç”¨æ‘Šé”€`
  - **åˆ©æ¶¦è¡¨**: `å‡€åˆ©æ¶¦`

#### 3.2 æŠ•èµ„æ´»åŠ¨çŽ°é‡‘æµæ˜¯å¦å¥åº·ï¼Ÿ âœ…
- **è®¡ç®—**: æŠ•èµ„å›žæŠ¥çŽ‡ = (æŠ•èµ„æ”¶ç›Š + å–å¾—æŠ•èµ„æ”¶ç›Šæ”¶åˆ°çš„çŽ°é‡‘) Ã· |æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢| Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **çŽ°é‡‘æµé‡è¡¨**: `æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`, `å–å¾—æŠ•èµ„æ”¶ç›Šæ”¶åˆ°çš„çŽ°é‡‘`
  - **åˆ©æ¶¦è¡¨**: `æŠ•èµ„æ”¶ç›Š`

#### 3.3 ç­¹èµ„æ´»åŠ¨çŽ°é‡‘æµæ˜¯å¦å¼‚å¸¸ï¼Ÿ âœ…
- **è®¡ç®—**: å€Ÿæ¬¾åˆ©çŽ‡ = åˆ†é…è‚¡åˆ©ã€åˆ©æ¶¦æˆ–å¿ä»˜åˆ©æ¯æ”¯ä»˜çš„çŽ°é‡‘ Ã· (çŸ­æœŸå€Ÿæ¬¾ + é•¿æœŸå€Ÿæ¬¾) Ã— 100%
- **å­—æ®µéœ€æ±‚**:
  - **çŽ°é‡‘æµé‡è¡¨**: `ç­¹èµ„æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`, `åˆ†é…è‚¡åˆ©ã€åˆ©æ¶¦æˆ–å¿ä»˜åˆ©æ¯æ”¯ä»˜çš„çŽ°é‡‘`
  - **èµ„äº§è´Ÿå€ºè¡¨**: `çŸ­æœŸå€Ÿæ¬¾`, `é•¿æœŸå€Ÿæ¬¾`

#### 3.4 å…¬å¸æ•´ä½“çŽ°é‡‘æµç±»åž‹æ˜¯ä»€ä¹ˆï¼Ÿ âœ…
- **å­—æ®µéœ€æ±‚**:
  - **çŽ°é‡‘æµé‡è¡¨**: `ç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`, `æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`, `ç­¹èµ„æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘æµé‡å‡€é¢`
- **åˆ¤æ–­æ ‡å‡†**:
  - "æ­£è´Ÿè´Ÿ"åž‹ï¼šç»è¥ > 0 ä¸” æŠ•èµ„ < 0 ä¸” ç­¹èµ„ < 0
  - "æ­£æ­£è´Ÿ"åž‹ï¼šç»è¥ > 0 ä¸” æŠ•èµ„ > 0 ä¸” ç­¹èµ„ < 0

---

## è¾“å‡ºæ ¼å¼è¦æ±‚

### åˆ†æžæŠ¥å‘Šæ ¼å¼

å¯¹äºŽæ¯ä¸€é¡¹è´¢åŠ¡æŒ‡æ ‡åˆ†æžï¼Œåº”é‡‡ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

**æ ¼å¼**ï¼š[emojiç»“è®º] \\
{è¯¦ç»†è¯´æ˜Žéƒ¨åˆ†}

**åŽŸå§‹æ•°æ®è®¡ç®—è¿‡ç¨‹**ï¼š
```
- è®¡ç®—å…¬å¼ï¼š[å…·ä½“è®¡ç®—å…¬å¼]
- è®¡ç®—è¿‡ç¨‹ï¼š[å…·ä½“æ•°æ®ä»£å…¥è®¡ç®—è¿‡ç¨‹]
- è®¡ç®—ç»“æžœï¼š[å…·ä½“æ•°å€¼]
```

### Emojiä½¿ç”¨è§„èŒƒ

- âœ… è¡¨ç¤ºè‰¯å¥½/æ­£å¸¸/æ— å¼‚å¸¸
- âš ï¸ è¡¨ç¤ºå­˜åœ¨é£Žé™©/éœ€å…³æ³¨
- â— è¡¨ç¤ºä¸¥é‡é—®é¢˜
- ðŸ’Ž è¡¨ç¤ºä¼˜ç§€/å“è¶Š
- ðŸ“Š è¡¨ç¤ºæ•°æ®ç›¸å…³
- ðŸ—ï¸ è¡¨ç¤ºé‡èµ„äº§ç›¸å…³
- ðŸ“ˆ è¡¨ç¤ºå¢žé•¿ç›¸å…³
- ðŸ“‰ è¡¨ç¤ºä¸‹é™/è´Ÿå‘
- â“ è¡¨ç¤ºæ— æ³•é‡åŒ–/ä¸ç¡®å®š
- ðŸ“‹ è¡¨ç¤ºä¸­æ€§ç»“æžœ

---

## APIæµ‹è¯•å·¥å…·

é¡¹ç›®æä¾›äº†å¯è§†åŒ–çš„APIæµ‹è¯•å·¥å…·ï¼š

**ä½ç½®**: [`webapp/api_test.html`](../webapp/api_test.html)

**åŠŸèƒ½**:
- è´¢åŠ¡æŒ‡æ ‡æŸ¥è¯¢æµ‹è¯•
- è´¢åŠ¡ä¸‰è¡¨æŸ¥è¯¢æµ‹è¯•
- å­—æ®µå‘çŽ°æŸ¥è¯¢æµ‹è¯•
- å®žæ—¶URLé¢„è§ˆ
- è¡¨æ ¼åŒ–ç»“æžœå±•ç¤º

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¯åŠ¨APIæœåŠ¡
poe api

# æ‰“å¼€æµ‹è¯•å·¥å…·
open webapp/api_test.html
```

---

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®éªŒè¯**ï¼šæ¯æ¬¡æŸ¥è¯¢åŽéªŒè¯æ•°æ®æ˜¯å¦æœ‰æ•ˆï¼Œé¿å…å› æ•°æ®ç¼ºå¤±å¯¼è‡´è®¡ç®—é”™è¯¯ã€‚
2. **å¤šæœŸæ•°æ®**ï¼šå¯¹äºŽéœ€è¦åŽ†å²å¯¹æ¯”çš„æŒ‡æ ‡ï¼ŒèŽ·å–å¤šæœŸæ•°æ®è¿›è¡Œåˆ†æžã€‚
3. **å¼‚å¸¸å€¼å¤„ç†**ï¼šå½“åˆ†æ¯ä¸º0æˆ–è´Ÿæ•°æ—¶ï¼Œé¿å…é™¤é›¶é”™è¯¯ï¼Œæä¾›é€‚å½“è¯´æ˜Žã€‚
4. **ç»“æžœè§£é‡Š**ï¼šæ•°å€¼ç»“æžœåº”ç»“åˆè¡Œä¸šèƒŒæ™¯å’Œå…¬å¸å®žé™…æƒ…å†µè¿›è¡Œåˆç†è§£é‡Šã€‚
5. **APIè°ƒç”¨**ï¼šæŽ¨èä½¿ç”¨GETæ–¹æ³•è¿›è¡Œç®€å•æŸ¥è¯¢ï¼ŒPOSTæ–¹æ³•ç”¨äºŽå¤æ‚çš„å­—æ®µè¿‡æ»¤å’Œæ—¶é—´èŒƒå›´æŸ¥è¯¢ã€‚

---

**æœ€åŽæ›´æ–°**: 2025-12-23
**APIç‰ˆæœ¬**: v3.0.0 (FastAPI WebæœåŠ¡ç‰ˆ)
